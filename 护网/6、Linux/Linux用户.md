# Linux用户介绍

```
Linux用户类型分为三类：
				超级管理员用户
				系统用户
				普通用户
```

## Linux用户介绍

```
超级管理员用户（root用户） ：UID为0，具有一切权限，可以操作系统中的所有资源。Root用户可以进行基础的文件操作及特殊的系统管理，可以修改系统中的任何文件。

系统用户：UID为1～999，Linux系统为了避免因某个服务程序出现漏洞而被黑客提权至整台服务器，默认服务程序会有独立的系统用户负责运行，进而有效控制被破坏围。

普通用户：UID从1000开始，是由管理员创建的用于日常工作的用户，能够使用Linux的大部分资源，一些特定的权限受到控制。用户只对自己的目录有写权限，读写权限受一定的限制，有效保证了系统安全性。
```

## Linux组介绍

```
有时我们需要让多个用户具有相同的权限，比如查看、修改某一
个文件的权限，此时最好的方式是建立一个组，让这个组具有查看、修改此文件的权限，然后将所有需要访问此文件的用户放入这个组中。那么，所有用户就具有了和组一样的权限，这就是用户组。
```

```
用户和用户组的对应关系有以下3种：
一对一：一个用户可以存在一个组中，是组中的唯一成员；
一对多：一个用户可以存在多个用户组中，此用户具有这多个组的共同权限；
多对一：多个用户可以存在一个组中，这些用户具有和组相同的权限
```

## 用户和组相关文件

```
/etc/passwd文件，是用户配置文件，存储了系统中所有用户
的基本信息，并且所有用户都可以读取此文件内容。文件内数据格式如下

用户名：密码：UID（用户ID）：GID（组ID）：描述性信息：主目录：默认Shell

密码字段的“x”表示此用户设有密码，但不是真正的密码，真正的密码保存在/etc/shadow文件中
```

```
/etc/shadow文件，用于存储Linux系统中用户的密码信息，又称为“影子文件”。由于/etc/passwd文件允许所有用户读取，易导致密码泄露，因此Linux系统将用户的密码信息从/etc/passwd文件中分离出来，并单独放到了此文件中。

/etc/shadow 文件只有root用户拥有读权限，其他用户没有任何权限，这样就保证了用户密码的安全性。文件内数据格式如下
用户名：加密密码：最后一次修改时间：最小修改时间间隔：密码有效期：密码需要变更前的警告天数：密码过期后宽限时间：账号失效时间：保留字段
```

```
/etc/group文件，存放用户组的信息，此文件的格式也类似于/etc／passwd文件，由冒号（:）隔开若干个字段，这些字段有：
组名：口令：组标识号：组内用户列表
```

```
/etc/gshadow文件，存放用户组的密码信息，每行代表一个组的密码信息，各行信息用冒号（:）隔开4个字段，每个字段的含义如下：
组名：加密密码：组管理员：组附加用户列表
```

用户和组管理命令 
---

```
whoami			#作用：查看当前登录用户名

id用户名		  #作用：显示用户的ID，以及所属群组的ID

sudo 			#作用：以管理员身份执行命令，普通用户默认无法使用sudo命令，需要将用户添加到wheel组当中

su - 用户名 		  #作用：改变当前用户，比如用了su - root之后，下面所有的命令就可以不用打sudo了，因为当前用户已经是管理员root了。注意：从root用户切换到普通用户时不需要输入密码，而从普通用户切换成root用户需要进行验证
```

```
useradd：创建新的用户
格式：useradd［选项］用户名
	-u 指定该用户的默认UID天
	-g 指定一个初始的用户基本组


passwd：修改用户密码、过期时间、认证信息等
格式：passwd［选项］［用户名］
	-I 锁定用户，禁止其登录
	-u 解除锁定，允许用户登录.
	-e 强制用户在下次登录时修改密码
```

```
userdel：删除用户 
userdel［选项］用户名
	-r 同时删除用户及用户家目录

usermod：修改用户的属性
格式：usermod［选项］用户名
-g 修改用户的基本组
-G 修改用户的附加组
-u 修改用户的UID
```

```
chage：修改帐号和密码的有效期限
格式：chage［选项］用户名
	—M：密码保持有效的最大天数
	—W：用户密码到期前多少天开始提醒:

groupadd：创建一个组 
格式：groupadd［选项］组名 
	—g 指定该组的默认GID
例如：创建组ID为1111的用户组test，可以执行：groupadd-g 1111 test
```

```
groupmod：修改用户组的属性格式
groupmod［选项］组名
	-g 为用户组指定新的GID
	-n 为用户组改名
例如：要将系统中已经存在的组test组名修改为test1、组ID为1112，可执行命令：
groupmod -g 1112-n test1 test

groupdel：删除用户组
格式：groupdel 用户组
例如要将系统中已经存在的组test1删除，可执行命令：groupdel test1

groups：查看某个用户属于哪些组
格式：groups 用户名 
```

