# Linux权限简介

linux服务器上有严格的权限等级，如果权限过高导致误操作会增加服务器的风险。

###### 每个文件的权限针对三类对象进行定义：

```
它的所有者（由u表示）

它的所有组（由g代表），代表该组的所有成员

其他（由o表示，除所有者和所有组的用户）
```



######  每个文件针对每类访问者定义了三种主要权限：

```
读（由r表示）

写（或修改，用w表示）

执行（由x表示）
```

```
用户对文件的操作权限分为读、写和执行三种，分别用r、w、x表示。
若用户没有某个权限，则在相应权限位用“—”占位，代表无此权限。
若文件具有×属性，是可执行的文件。
具有x属性的文件一般是二进制程序文件或可执行的脚本文件。
若目录具有x属性，则表示允许打开该目录中的文件，并且可用cd命令进入该目录。
只有root用户和文件拥有者才可以修改文件访问权限。
```

![image-20240301154614378](C:\Users\ling\AppData\Roaming\Typora\typora-user-images\image-20240301154614378.png)


# Linux权限设置命令

以下三个命令控制与文件关联的权限：

```
chmod：					更改文件的权限 

chown:					更改文件的所有者

chgrp:					更改所有者组


chmod：更改文件的权限

格式：chmod［选项］要分配的权限 文件或目录名

-R：改变目录及目录下的文件和目录的访问权限

示例：chmod o＝w test表示将其他人对test这个文件的权限设置为只可写入
示例：chmod go—rw file 表示删除file中所属组和其他人的读、写的权限




chown：更改文件和目录的所有者

格式： chown选项用户名文件或目录名

-R：改变目录及目录下的文件和目录的所有者

示例： chown -R hyf /tmp/test 表示将/tmp/test目录及其子目录的所有者改为hyf用户






chgrp更改文件和目录的所属组

格式： chgrp选项组名文件或目录名

-R：改变目录及目录下的文件和目录的所属组

示例： chgrp -R hyf /tmp/test 表示将/tmp/test目录及其子目录的所属组改为hyf用户

```

```
我们也可以采用数字来代替rwx
r--------------4
W--------------2
x--------------1

rw-		r--		r--
rwx      rw-     r--

例如：chmod 765 filename 表示授予所有者rwx权限，授予所属组rw权限，授予其他人rx权限

所有者＝r＋w＋x＝4＋2＋1＝7
所属组＝r＋w＝4＋2＝6
其他人＝r＋x＝4＋1＝5
```

![image-20240301155202851](C:\Users\ling\AppData\Roaming\Typora\typora-user-images\image-20240301155202851.png)

# Linux文件特殊权限

```
粘滞位针对目录赋权。为目录添加粘滞位后该目录中创建的文件和目录只有创建者和超级管理员可以删除（数字权限1）

粘滞位赋予方法：chmod o+t 目录名称

sgid针对目录赋权，为目录添加sgid后在该目录中建立的文件属组继承父目录的属组（数字权限2）
sgid赋予方法：chmodg+s 目录名称


SUID针对可执行文件赋权，如作用在普通文件中没有任何意义。在默认情况下，用户发起一个进程，该进程的属主是发起者，而并非是文件的属主，但是如果给二进制程序文件添加了SUID权限后，用户发起一个进程，该进程的属主为程序文件所属的属主，而并非是发起者。(数字权限4)

suid赋予方法：chmod u+s 可执行文件名称
```